
  
<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="siteBaseUrl" content="https://thats-it-code.com">
    <meta name="author" content="go3boy">
    <meta name="description" content="python,pandas,programming,tips,tricks,code snippets,code sample,code example, Azure, Form Recognizer, Playwright,  Power Apps, OCR, openpyxl, Apache Spark, Golang, Go language,tutorial, guide">
    <meta name="keywords" content="python,pandas,programming,tips,tricks,code snippets,code sample,code example, Azure, Form Recognizer, Playwright,  Power Apps, OCR, openpyxl, Apache Spark, Golang, Go language,tutorial, guide">
    <meta name="generator" content="Hugo 0.91.2" />
    <title>
        
           
               FastAPI Series 03 &gt;&gt; Routing and Endpoint Design &vert; That&#39;s it ! Code Snippets
           
        
    </title>
    <meta name="description" content="Master the essentials of FastAPI routing and endpoint design with this comprehensive guide, covering best practices, RESTful principles, path parameters, and endpoint organization using APIRouter. Elevate your FastAPI development skills and create clean, maintainable, and scalable web applications.">
    <meta itemprop="name" content="FastAPI Series 03 &gt;&gt; Routing and Endpoint Design">
    <meta itemprop="description" content="Master the essentials of FastAPI routing and endpoint design with this comprehensive guide, covering best practices, RESTful principles, path parameters, and endpoint organization using APIRouter. Elevate your FastAPI development skills and create clean, maintainable, and scalable web applications.">
    <meta property="og:title" content="FastAPI Series 03 &gt;&gt; Routing and Endpoint Design">
    <meta property="og:description" content="Master the essentials of FastAPI routing and endpoint design with this comprehensive guide, covering best practices, RESTful principles, path parameters, and endpoint organization using APIRouter. Elevate your FastAPI development skills and create clean, maintainable, and scalable web applications.">
    <meta property="og:image" content="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?size=200">
    <meta property="og:url" content="https://thats-it-code.com/fastapi/fastapi-series-03__routing-and-endpoint-design/">
    <meta property="og:site_name" content="That&#39;s it ! Code Snippets">
    <meta property="og:type" content="article">

    


    <script src="/modernizr-simple.js"></script>

    
    <link href="/fastapi/fastapi-series-03__routing-and-endpoint-design/" rel="alternate" type="application/rss+xml" title="That&#39;s it ! Code Snippets" />
    <link href="/fastapi/fastapi-series-03__routing-and-endpoint-design/" rel="feed" type="application/rss+xml" title="That&#39;s it ! Code Snippets" />
    

    
    <link rel="canonical" href="https://thats-it-code.com/fastapi/fastapi-series-03__routing-and-endpoint-design/">
    

    <link rel="stylesheet" href="https://thats-it-code.com/theme.css">

    

    

    <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/0950ad66f63960c84d73e3b86/4df99a034fe04b743087ab3c2.js");</script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5756369302938289" crossorigin="anonymous"></script>

    
        <link rel="stylesheet" href="https://thats-it-code.com/css/custom_heading.css">
    
        <link rel="stylesheet" href="https://thats-it-code.com/css/custom.css">
    
</head>

<body class="bilberry-hugo-theme">

    
    <nav class="permanentTopNav">

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="/categories/" target="_blank">Category</a></li>
                
            
                
                    <li><a href="https://thats-it-code.com/page/disclaimer/">Disclaimer</a></li>
                
            
                
                    <li><a href="https://thats-it-code.com/page/contact/">Contact</a></li>
                
            
                
                    <li><a href="/privacy.html" target="_blank">Privacy</a></li>
                
            
        </ul>

        
    </div>
</nav>


    
    <header>

        <div class="container">
            <div class="logo">
                <a href="/" class="logo">
                    
                        <img src="/img/avatar.png" alt="">
                    

                    <span class="overlay"><i class="fa fa-home"></i></span>
                </a>
            </div>
            <div class="titles">
                <h3 class="title">
                    <a href="/">
                        That&#39;s it ! Code Snippets
                    </a>
                </h3>

                
            </div>

            

            
                <div class="toggler permanentTopNav">
            
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </div>
            </div>

            
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-WNZ1JFLBDC"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WNZ1JFLBDC');
            </script>
    </header>


    <div class="main container">
        
    <div class="article-wrapper u-cf single">
        
            <a class="bubble" href="https://thats-it-code.com/fastapi/fastapi-series-03__routing-and-endpoint-design/">
    <i class="fas fa-fw fa-code"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h1 class="article-title">
        <a href="https://thats-it-code.com/fastapi/fastapi-series-03__routing-and-endpoint-design/">
            FastAPI Series 03 &gt;&gt; Routing and Endpoint Design
        </a>
    </h1>

    <div class="meta">
        
            
                <span class="date moment">2023-03-18</span>
            
        

        

        
            <span class="categories">
                
                    
                    
                        <a href="https://thats-it-code.com/categories/fastapi/">FastAPI</a>
                    
                
            </span>
        

        
    </div>

    
        
            <h2>Table of Contents</h2>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#understanding-fastapi-routing">Understanding FastAPI Routing</a></li>
    <li><a href="#best-practices-for-route-design">Best Practices for Route Design</a></li>
    <li><a href="#organizing-endpoints-with-apirouter">Organizing Endpoints with APIRouter</a>
      <ul>
        <li><a href="#example">Example</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
        

        
        <p>In this blog post, we delve into the essentials of FastAPI routing and endpoint design, discussing best practices like <strong>RESTful principles</strong>, <strong>path parameters</strong>, and using the <strong>APIRouter</strong> class for organizing your endpoints. Master the art of creating clean, maintainable, and scalable FastAPI applications with these proven techniques.</p>
<p><img src="/img/fastapi03_api-route.png" alt="Pandas"></p>
<h2 id="introduction">Introduction</h2>
<p>Now that you&rsquo;ve built your first FastAPI API, it&rsquo;s time to delve deeper into the world of FastAPI and explore one of its most important aspects: routing and endpoint design. In this blog post, we&rsquo;ll discuss best practices for designing and organizing your API&rsquo;s routes and endpoints to create a robust, maintainable, and scalable application.</p>
<h2 id="understanding-fastapi-routing">Understanding FastAPI Routing</h2>
<p>FastAPI provides a simple and intuitive way to define routes in your application, allowing you to map specific <strong>URL patterns</strong> to corresponding Python functions, called <strong>endpoints</strong>. These endpoints are responsible for handling incoming HTTP or HTTPS requests and returning appropriate responses. Let&rsquo;s recap the basic syntax for <strong>defining a route</strong> in FastAPI:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a6e22e">@app</span><span style="color:#f92672">.&lt;</span>http_method<span style="color:#f92672">&gt;</span>(<span style="color:#e6db74">&#34;/&lt;route_path&gt;&#34;</span>)
<span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#f92672">&lt;</span>endpoint_function<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>parameters<span style="color:#f92672">&gt;</span>):
    <span style="color:#f92672">&lt;</span>function_body<span style="color:#f92672">&gt;</span>
</code></pre></div><p>In this syntax, <strong>&lt;http_method&gt;</strong> is the HTTP method (e.g., <strong>get</strong>, <strong>post</strong>, <strong>put</strong>, <strong>delete</strong>), <strong>&lt;route_path&gt;</strong> is the URL path, <strong>&lt;endpoint_function&gt;</strong> is the Python function handling the request, and <strong><parameters></strong> are the optional parameters passed to the function.</p>
<h2 id="best-practices-for-route-design">Best Practices for Route Design</h2>
<p>When designing routes for your FastAPI application, consider the following best practices to ensure a clean and maintainable codebase:</p>
<ul>
<li>
<p><strong>Use RESTful principles</strong>: Structure your routes and endpoints around resources (e.g., <strong>/users</strong>, <strong>/products</strong>) and use standard HTTP methods (e.g., <strong>GET</strong>, <strong>POST</strong>, <strong>PUT</strong>, <strong>DELETE</strong>) to perform operations on these resources.</p>
</li>
<li>
<p><strong>Keep route paths simple and descriptive</strong>: Use clear and concise names for your routes to improve readability and maintainability.</p>
</li>
<li>
<p><strong>Utilize path parameters</strong>: FastAPI allows you to define path parameters within your route paths (e.g., /users/{user_id}) to create dynamic routes that can handle a variety of requests.</p>
</li>
</ul>
<h2 id="organizing-endpoints-with-apirouter">Organizing Endpoints with APIRouter</h2>
<p>As your FastAPI application grows, managing a large number of routes and endpoints can become challenging. To help with this, FastAPI provides the APIRouter class, which allows you to modularize your endpoints and group them based on their functionality or resources. Here&rsquo;s an example of how to use APIRouter to organize your endpoints:</p>
<ol>
<li>Import the <strong>APIRouter</strong> class:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> fastapi <span style="color:#f92672">import</span> APIRouter
</code></pre></div><ol start="2">
<li>Create an instance of <strong>APIRouter</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">user_router <span style="color:#f92672">=</span> APIRouter()
</code></pre></div><ol start="3">
<li>Define your endpoints using the <strong>APIRouter</strong> instance:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a6e22e">@user_router</span><span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;/users&#34;</span>)
<span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_users</span>():
    <span style="color:#f92672">&lt;</span>function_body<span style="color:#f92672">&gt;</span>

<span style="color:#a6e22e">@user_router</span><span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;/users/</span><span style="color:#e6db74">{user_id}</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_user</span>(user_id: int):
    <span style="color:#f92672">&lt;</span>function_body<span style="color:#f92672">&gt;</span>
</code></pre></div><ol start="4">
<li>Include the <strong>APIRouter</strong> in your main FastAPI application:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">app<span style="color:#f92672">.</span>include_router(user_router)
</code></pre></div><h3 id="example">Example</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> fastapi <span style="color:#f92672">import</span> FastAPI
<span style="color:#f92672">from</span> fastapi <span style="color:#f92672">import</span> APIRouter

app <span style="color:#f92672">=</span> FastAPI()
user_router <span style="color:#f92672">=</span> APIRouter()

<span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;/&#34;</span>)
<span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_root</span>():
    <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#34;Hello&#34;</span>: <span style="color:#e6db74">&#34;World&#34;</span>}

<span style="color:#a6e22e">@user_router</span><span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;/users&#34;</span>)
<span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_users</span>():
    <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#34;get&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>}

<span style="color:#a6e22e">@user_router</span><span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;/users/</span><span style="color:#e6db74">{user_id}</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_user</span>(user_id: int):
    <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#34;get&#34;</span>: <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;user</span><span style="color:#e6db74">{</span>user_id<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>}

app<span style="color:#f92672">.</span>include_router(user_router)
</code></pre></div><p>In this example, we use the <strong>user_router</strong> to manage the user related APIs.</p>
<p><em><strong>http://127.0.0.1:8000/users</strong></em><br>
<img src="1.png" alt="FastAPI"></p>
<p><em><strong>http://127.0.0.1:8000/users/123</strong></em><br>
<img src="2.png" alt="FastAPI"></p>
<h2 id="conclusion">Conclusion</h2>
<p>In this blog post, we explored best practices for FastAPI routing and endpoint design, covering the fundamentals of route design, RESTful principles, path parameters, and how to use the <strong>APIRouter</strong> class for organizing your endpoints. By following these best practices, you can create a robust, maintainable, and scalable FastAPI application. Stay tuned for our next blog post, where we&rsquo;ll dive into creating secure and reliable APIs with FastAPI&rsquo;s authentication and authorization features.</p>

        
<link href="//cdn-images.mailchimp.com/embedcode/classic-10_7_dtp.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:600px;}
	 
</style>
<div id="mc_embed_signup">
<form action="https://thats-it-code.us17.list-manage.com/subscribe/post?u=0950ad66f63960c84d73e3b86&amp;id=4fcd6527d7&SIGNUP=" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h3 style="margin-top: 50px; color: #4d78c8; font-size: 32px; font-family: 'Muli', sans-serif; ">Subscribe and be the FIRST reader of our latest articles</h3>
<div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group">
	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
</div>
	<div id="mce-responses" class="clear foot">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_0950ad66f63960c84d73e3b86_4fcd6527d7" tabindex="-1" value=""></div>
        <div class="optionalParent">
            <div class="clear foot">
                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                <p class="brandingLogo"><a href="http://eepurl.com/h0ORvf" title="Mailchimp - email marketing made easy and fun"><img src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a></p>
            </div>
        </div>
    </div>
</form>
</div>
<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='SIGNUP';ftypes[1]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>


        <form id="contact" action="https://formspree.io/f/mnqwoqyv" method="POST">
    <h3>Contact us</h3>
    <label>
        Your email:
        <input placeholder="Your Email Address" type="email" name="email">
    </label>
    <label>
        Your message:
        <textarea placeholder="Type your message here...." name="message"></textarea>
    </label>
    
    <button type="submit">Send</button>
</form>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    
                    
                    <a href="https://thats-it-code.com/tags/fastapi/">FastAPI</a>
                    
                
                    
                    
                    <a href="https://thats-it-code.com/tags/web-development/">Web Development</a>
                    
                
            </div>
        </div>
    

    
</div>

</article>

         
    </div>

    
        <div id="comments-container">
            
            

        </div>
    

    </div>

    

<section class="section sns_parent">
  <div class="container sns_section">
      <div class="sns_button twitter">
        <a href="http://twitter.com/intent/tweet?url=https%3a%2f%2fthats-it-code.com%2ffastapi%2ffastapi-series-03__routing-and-endpoint-design%2f&text=FastAPI%20Series%2003%20%3e%3e%20Routing%20and%20Endpoint%20Design" target="_blank" title="Tweet"><i class="fab fa-twitter"></i></a>
      </div>
      <div class="sns_button hatena">
        <a href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fthats-it-code.com%2ffastapi%2ffastapi-series-03__routing-and-endpoint-design%2f&title=FastAPI%20Series%2003%20%3e%3e%20Routing%20and%20Endpoint%20Design" target="_blank" title="hatena"><i class="fa fa-hatena"></i></i></a>
      </div>
      <div class="sns_button facebook">
        <a href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fthats-it-code.com%2ffastapi%2ffastapi-series-03__routing-and-endpoint-design%2f&t=FastAPI%20Series%2003%20%3e%3e%20Routing%20and%20Endpoint%20Design" target="_blank" title="Facebook"><i class="fab fa-facebook"></i></a>
      </div>
      <div class="sns_button google">
        <a href="https://plus.google.com/share?url=https%3a%2f%2fthats-it-code.com%2ffastapi%2ffastapi-series-03__routing-and-endpoint-design%2f" target="_blank" title="google+"><i class="fab fa-google-plus"></i></a>
      </div>
      <div class="sns_button reddit">
        <a href="http://www.reddit.com/submit?url=https%3a%2f%2fthats-it-code.com%2ffastapi%2ffastapi-series-03__routing-and-endpoint-design%2f&title=FastAPI%20Series%2003%20%3e%3e%20Routing%20and%20Endpoint%20Design" target="_blank" title="Reddit"><i class="fab fa-reddit"></i></a>
      </div>
  </div>
</section>


    
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
            <ul>
                
                
                    <li>
                        <a href="https://thats-it-code.com/chatgpt/10-most-useful-prompt-engineering-tips-for-cotent-writer/">10 Most Useful Prompt Tips for Cotent Writer</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/chatgpt/10-most-useful-prompt-engineering-tips-and-tricks/">10 Most Useful Prompt Engineering Tips and Tricks</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/fastapi/fastapi-series-03__routing-and-endpoint-design/">FastAPI Series 03 &gt;&gt; Routing and Endpoint Design</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/fastapi/fastapi-series-02__getting-started-with-fastapi__building-your-first-api/">FastAPI Series 02 &gt;&gt; Getting Started With FastAPI: Building Your First API</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/fastapi/fastapi-series-01__fastapi-101/">FastAPI Series 01 &gt;&gt; FastAPI 101: An Introduction to Modern Web Development</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/pandas/pandas__read-muliple-csv-files/">Pandas &gt;&gt; Read Muliple Csv Files</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/graphql/graphql-basics/">GraphQL Basics</a>
                    </li>
                
            </ul>
        </div>
        

        
        <div class="categories">
            <a href="/categories/"><strong>Categories</strong></a>
            <ul>
                
                <li>
                    <a href="/categories/pandas">Pandas
                        (35)</a>
                </li>
                
                <li>
                    <a href="/categories/python">Python
                        (15)</a>
                </li>
                
                <li>
                    <a href="/categories/playwright">Playwright
                        (11)</a>
                </li>
                
                <li>
                    <a href="/categories/big-data">Big data
                        (5)</a>
                </li>
                
                <li>
                    <a href="/categories/azure">Azure
                        (4)</a>
                </li>
                
                <li>
                    <a href="/categories/ai-ocr">Ai ocr
                        (3)</a>
                </li>
                
                <li>
                    <a href="/categories/fastapi">Fastapi
                        (3)</a>
                </li>
                
                <li>
                    <a href="/categories/chatgpt">Chatgpt
                        (2)</a>
                </li>
                
                <li>
                    <a href="/categories/golang">Golang
                        (2)</a>
                </li>
                
                <li>
                    <a href="/categories/power-apps">Power apps
                        (2)</a>
                </li>
                
            </ul>
        </div>
        

        <div class="right">
            

            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://thats-it-code.com" target="_blank">
                &copy;
                
                2023
                
                by go3boy technology
            </a>
            
        </div>
        <div class="author">
            <a href="https://thats-it-code.com"
                target="_blank">That&#39;s it! Code Snippets</a>
        </div>
    </div>
</div>


    

    


    <script type="text/javascript" src="https://thats-it-code.com/theme.js"></script>

    

    
</body>

</html>

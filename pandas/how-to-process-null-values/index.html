
  
<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="siteBaseUrl" content="https://thats-it-code.com">
    <meta name="author" content="go3boy">
    <meta name="description" content="">
    <meta name="keywords" content="python,pandas,programming,tips,tricks,code snippets,code sample,code example,Rust, Cloud computing, AWS, Azure, GCP">
    <meta name="generator" content="Hugo 0.91.2" />
    <title>
        
           
               How to Process Null Values in Pandas &vert; That&#39;s it ! Code Snippets
           
        
    </title>
    <meta name="description" content="How to Process Null Values in Pandas - %!s(&lt;nil&gt;)">
    <meta itemprop="name" content="How to Process Null Values in Pandas">
    <meta itemprop="description" content="How to Process Null Values in Pandas - %!s(&lt;nil&gt;)">
    <meta property="og:title" content="How to Process Null Values in Pandas">
    <meta property="og:description" content="How to Process Null Values in Pandas - %!s(&lt;nil&gt;)">
    <meta property="og:image" content="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?size=200">
    <meta property="og:url" content="https://thats-it-code.com/pandas/how-to-process-null-values/">
    <meta property="og:site_name" content="That&#39;s it ! Code Snippets">
    <meta property="og:type" content="article">

    


    <script src="/modernizr-simple.js"></script>

    
    <link href="/pandas/how-to-process-null-values/" rel="alternate" type="application/rss+xml" title="That&#39;s it ! Code Snippets" />
    <link href="/pandas/how-to-process-null-values/" rel="feed" type="application/rss+xml" title="That&#39;s it ! Code Snippets" />
    

    
    <link rel="canonical" href="https://thats-it-code.com/pandas/how-to-process-null-values/">
    

    <link rel="stylesheet" href="https://thats-it-code.com/theme.css">

    

    
</head>

<body class="bilberry-hugo-theme">

    
    <nav>

    <div class="container">
        <ul class="topnav">
            
        </ul>

        
    </div>
</nav>


    
    <header>

        <div class="container">
            <div class="logo">
                <a href="/" class="logo">
                    
                        <img src="/img/avatar.png" alt="">
                    

                    <span class="overlay"><i class="fa fa-home"></i></span>
                </a>
            </div>
            <div class="titles">
                <h3 class="title">
                    <a href="/">
                        That&#39;s it ! Code Snippets
                    </a>
                </h3>

                
            </div>

            

            
                <div class="toggler">
            
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </div>
            </div>
            

            
                <link rel="stylesheet" href="https://thats-it-code.com/css/custom_heading.css">
            
                <link rel="stylesheet" href="https://thats-it-code.com/css/custom.css">
            

            
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-WNZ1JFLBDC"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-WNZ1JFLBDC');
            </script>
    </header>


    <div class="main container">
        
    <div class="article-wrapper u-cf single">
        
            <a class="bubble" href="https://thats-it-code.com/pandas/how-to-process-null-values/">
    <i class="fas fa-fw fa-pencil-alt"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h1 class="article-title">
        <a href="https://thats-it-code.com/pandas/how-to-process-null-values/">
            How to Process Null Values in Pandas
        </a>
    </h1>

    <div class="meta">
        
            
                <span class="date moment">2021-12-31</span>
            
        

        

        
            <span class="categories">
                
                    
                    
                        <a href="https://thats-it-code.com/categories/pandas/">Pandas</a>
                    
                
            </span>
        

        
    </div>

    
        

        <p>In this article, we will talk about how to process <strong>null/empty</strong> data in <code>DataFrame</code>. In real world, it&rsquo;s impossible to have values in every row and column of the data. So when we encounter a data set containing null values, we have to decide whether to <strong>delete</strong>, <strong>replace</strong>, etc. to handle it according to our needs.</p>
<ul>
<li>Delete rows or columns containing null values (<strong>dropna()</strong>)</li>
<li>Replace null values with specified values (<strong>fillna()</strong>)</li>
<li>Select rows or columns containing null values</li>
</ul>
<p><img src="/img/nan-image.png" alt="processing nan data"></p>
<p>Firstly, we prepare a csv like below.</p>
<p><img src="/img/data_school_report.png" alt="processing nan data"></p>
<p>As you can see, there are some <strong>empty cells</strong> in <strong>score</strong> column.
Let&rsquo;s read into <code>Pandas</code> <code>DataFrame</code> by using read_csv method of pandas. About how to read data in <code>Pandas</code>, you can read another article about how to read data in <code>Pandas</code>.</p>
<p><strong>How to Read various data in Pandas</strong><br>
<a href="https://thats-it-code.com/pandas/pandas__how-to-read-various-data/">https://thats-it-code.com/pandas/pandas__how-to-read-various-data/</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#34;data/school_report.csv&#34;</span>, header<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, index_col<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
df
</code></pre></div><p><img src="/img/nan-table1.png" alt="processing nan data"></p>
<h2 id="delete-data-containing-null-values-by-dropna">Delete data containing null values by dropna()</h2>
<p>If we want to drop all the data containing null values, we just use dropna() method of DataFrame.</p>
<p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dropna.html">pydata.org &gt; pandas.DataFrame.dropna</a>
<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dropna.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dropna.html</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>dropna()
</code></pre></div><p>You will find all <strong>rows</strong> containing <strong>NaN</strong> value in any column disappeared.</p>
<p><img src="/img/drop-all-nan.png" alt="processing nan data"></p>
<p>If you just want to drop <strong>columns</strong> containing <strong>NaN</strong> values, you can use <strong>axis</strong> option and specify <strong>&ldquo;columns&rdquo;</strong>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>dropna(axis<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;columns&#34;</span>)
</code></pre></div><p>You will find column <strong>address</strong> and <strong>score</strong> disappeared.</p>
<p><img src="/img/drop-columns-with-nan.png" alt="processing nan data"></p>
<p>If you only want to remove <strong>rows all values are null</strong>, you can use <strong>how=&ldquo;all&rdquo;</strong> option.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>dropna(how<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;all&#34;</span>)
</code></pre></div><p>If you only want to remove rows containing at least one null value, you can use <strong>how=any</strong> option.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>dropna(how<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;any&#34;</span>)
</code></pre></div><p>Also you can remove <strong>columns all values are null</strong> by adding <strong>axis=1</strong> option.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>dropna(how<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;all&#34;</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
df<span style="color:#f92672">.</span>dropna(how<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;any&#34;</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</code></pre></div><p>If you only want to remove some rows based <strong>some columns</strong> whether contain null values or not. You can use <strong>subset</strong> option.<br>
For example, if we want to remove all rows whose address is empty, we can achieve it using below code.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>dropna(subset<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;address&#34;</span>])
</code></pre></div><p><img src="/img/drop-empty-address.png" alt="processing nan data"></p>
<h4 id="series-just-use-dropna">Series just use dropna()</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[<span style="color:#e6db74">&#34;score&#34;</span>]<span style="color:#f92672">.</span>dropna()
</code></pre></div><p><img src="/img/series-dropna.png" alt="processing nan data"></p>
<h2 id="fill-null-value-with-specified-value">Fill null value with specified value</h2>
<p>You can use fillna() method of DataFrame to fill null values with other values.</p>
<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.fillna.html">pydata.org &gt; pandas.DataFrame.fillna</a>
<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.fillna.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.fillna.html</a></p>
<h4 id="replace-all-null-values-with-same-value">Replace all null values with same value</h4>
<p>We can replace all null values with same value by specifying the new value in <strong>fillna()</strong> method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>fillna(<span style="color:#e6db74">&#34;N/A&#34;</span>)
</code></pre></div><p><img src="/img/fillna-one-value.png" alt="processing nan data"></p>
<h4 id="replace-each-column-with-a-different-value">Replace each column with a different value</h4>
<p>We can use a <strong>dict</strong> to specify new value for each column in fillna() method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>fillna({<span style="color:#e6db74">&#34;address&#34;</span>: <span style="color:#e6db74">&#34;zzz&#34;</span>, <span style="color:#e6db74">&#34;score&#34;</span>: <span style="color:#ae81ff">0</span>})
</code></pre></div><p><img src="/img/fillna-each-col.png" alt="processing nan data"></p>
<h4 id="fill-numeric-column-with-mean-or-median-value">Fill numeric column with mean or median value</h4>
<p>We can use mean() method to get mean value of each numeric column and use median() method to get median value of each numeric column and use them to fill null values in each column.</p>
<p>In our data, we have only one numeric column with null values, so we will use Series instead.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[<span style="color:#e6db74">&#34;score&#34;</span>]<span style="color:#f92672">.</span>mean()
</code></pre></div><pre tabindex="0"><code>81.76923076923077
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[<span style="color:#e6db74">&#34;score&#34;</span>]<span style="color:#f92672">.</span>fillna(df[<span style="color:#e6db74">&#34;score&#34;</span>]<span style="color:#f92672">.</span>mean())
</code></pre></div><p><img src="/img/fillna-with-mean.png" alt="processing nan data"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[<span style="color:#e6db74">&#34;score&#34;</span>]<span style="color:#f92672">.</span>median()
</code></pre></div><pre tabindex="0"><code>80.0
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[<span style="color:#e6db74">&#34;score&#34;</span>]<span style="color:#f92672">.</span>fillna(df[<span style="color:#e6db74">&#34;score&#34;</span>]<span style="color:#f92672">.</span>median())
</code></pre></div><p><img src="/img/fillna-with-median.png" alt="processing nan data"></p>
<h4 id="fill-null-values-with-previous-value-or-next-value">Fill null values with previous value or next value</h4>
<p>We can specify <strong>method=&lsquo;ffill&rsquo;</strong> to fill null values with <strong>previous</strong> value, and specify <strong>method=&lsquo;bfill&rsquo;</strong> to fill null vaues with <strong>next</strong> value. This is very useful in <strong>Time Series data</strong>.</p>
<p>fill null values with <strong>previous</strong> value</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>fillna(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ffill&#39;</span>)
</code></pre></div><p><img src="/img/fillna-ffill.png" alt="processing nan data"></p>
<p>fill null values with <strong>next</strong> value<br>
If the null value is in the last row, It will keep NaN.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df<span style="color:#f92672">.</span>fillna(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bfill&#39;</span>)
</code></pre></div><p><img src="/img/fillna-bfill.png" alt="processing nan data"></p>
<h2 id="select-rows-or-columns-with-null-values">Select rows or columns with null values</h2>
<p>If we want to select all rows with empty address, we can use <strong>isnull()</strong> method. You can learn more about how to filter data in Pandas in article below.</p>
<p><strong>Pandas &raquo; How to Filter Data</strong><br>
<a href="https://thats-it-code.com/pandas/pandas__how-to-filter-data/">https://thats-it-code.com/pandas/pandas__how-to-filter-data/</a></p>
<p>Select all rows with empty address</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[df[<span style="color:#e6db74">&#34;address&#34;</span>]<span style="color:#f92672">.</span>isnull()]
</code></pre></div><p><img src="/img/rows-empty-address.png" alt="processing nan data"></p>
<p>We must use isnull to check value in pandas Dataframe is null or not like below other than use general python syntax.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[df[<span style="color:#e6db74">&#34;name&#34;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Oliver&#34;</span>][<span style="color:#e6db74">&#34;address&#34;</span>]<span style="color:#f92672">.</span>isnull()
</code></pre></div><pre tabindex="0"><code>2    True
Name: address, dtype: bool
</code></pre><p>If we use general python syntax, we will encounter error and will not get expect result.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">if</span> df[df[<span style="color:#e6db74">&#34;name&#34;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Oliver&#34;</span>][<span style="color:#e6db74">&#34;address&#34;</span>]:
    print(<span style="color:#e6db74">&#34;not empty&#34;</span>)
<span style="color:#66d9ef">else</span>:
    print(<span style="color:#e6db74">&#34;empty&#34;</span>)
</code></pre></div><pre tabindex="0"><code>ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
</code></pre><p>You can learn more about how to select data in Pandas in article below.</p>
<p><strong>Pandas &raquo; How to Select and Modify Data</strong><br>
<a href="https://thats-it-code.com/pandas/pandas__how-to-select-and-modify-data/">https://thats-it-code.com/pandas/pandas__how-to-select-and-modify-data/</a></p>
<h2 id="conclusion">Conclusion</h2>
<ul>
<li>We can remove rows or columns with null values using <strong>dropna()</strong></li>
<li>We can fill specified value using <strong>fillna()</strong></li>
<li>We can check and filter data with null values using <strong>isnull()</strong></li>
</ul>
    
</div>

    
<div class="footer no-tags">


    

    
</div>

</article>

        
        
    </div>

    
        <div id="comments-container">
            
            

        </div>
    

    </div>

    

<section class="section sns_parent">
  <div class="container sns_section">
      <div class="sns_button twitter">
        <a href="http://twitter.com/intent/tweet?url=https%3a%2f%2fthats-it-code.com%2fpandas%2fhow-to-process-null-values%2f&text=How%20to%20Process%20Null%20Values%20in%20Pandas" target="_blank" title="Tweet"><i class="fab fa-twitter"></i></a>
      </div>
      <div class="sns_button hatena">
        <a href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fthats-it-code.com%2fpandas%2fhow-to-process-null-values%2f&title=How%20to%20Process%20Null%20Values%20in%20Pandas" target="_blank" title="hatena"><i class="fa fa-hatena"></i></i></a>
      </div>
      <div class="sns_button facebook">
        <a href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fthats-it-code.com%2fpandas%2fhow-to-process-null-values%2f&t=How%20to%20Process%20Null%20Values%20in%20Pandas" target="_blank" title="Facebook"><i class="fab fa-facebook"></i></a>
      </div>
      <div class="sns_button google">
        <a href="https://plus.google.com/share?url=https%3a%2f%2fthats-it-code.com%2fpandas%2fhow-to-process-null-values%2f" target="_blank" title="google+"><i class="fab fa-google-plus"></i></a>
      </div>
      <div class="sns_button reddit">
        <a href="http://www.reddit.com/submit?url=https%3a%2f%2fthats-it-code.com%2fpandas%2fhow-to-process-null-values%2f&title=How%20to%20Process%20Null%20Values%20in%20Pandas" target="_blank" title="Reddit"><i class="fab fa-reddit"></i></a>
      </div>
  </div>
</section>

    
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
            <ul>
                
                
                    <li>
                        <a href="https://thats-it-code.com/azure/how-to-use-form-recognizer-to-extract-items-from-receipt/">How to Use Form Recognizer to Extract Items From Receipt</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/pandas/how-to-split-one-column-to-multiple-columns/">How to Split One Column to Multiple Columns in Pandas</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/pandas/how-to-select-rows-containing-specified-string/">How to Select Rows Containing Specified String</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/pandas/how-to-use-map-applymap-apply-methods/">How to Use Map() Apply() ApplyMap() Methods in Pandas</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/pandas/how-to-process-null-values/">How to Process Null Values in Pandas</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/programming/lets-create-a-programming-environment/">Lets Create a Programming Environment</a>
                    </li>
                
                    <li>
                        <a href="https://thats-it-code.com/programming/what-is-programming-can-i-learn-it-how-to-learn-it/">What Is Programming? Can I Learn It? How to Learn It?</a>
                    </li>
                
            </ul>
        </div>
        

        
        <div class="categories">
            <a href="/categories/"><strong>Categories</strong></a>
            <ul>
                
                <li>
                    <a href="/categories/pandas">Pandas
                        (18)</a>
                </li>
                
                <li>
                    <a href="/categories/programming">Programming
                        (2)</a>
                </li>
                
                <li>
                    <a href="/categories/apache-spark">Apache spark
                        (1)</a>
                </li>
                
                <li>
                    <a href="/categories/azure">Azure
                        (1)</a>
                </li>
                
                <li>
                    <a href="/categories/form-recognizer">Form recognizer
                        (1)</a>
                </li>
                
                <li>
                    <a href="/categories/openpyxl">Openpyxl
                        (1)</a>
                </li>
                
                <li>
                    <a href="/categories/playwright">Playwright
                        (1)</a>
                </li>
                
            </ul>
        </div>
        

        <div class="right">
            

            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://thats-it-code.com" target="_blank">
                &copy;
                
                2022
                
                by go3boy
            </a>
            
        </div>
        <div class="author">
            <a href="https://thats-it-code.com"
                target="_blank">That&#39;s it! Code Snippets</a>
        </div>
    </div>
</div>


    

    


    <script type="text/javascript" src="https://thats-it-code.com/theme.js"></script>

    

    
</body>

</html>
